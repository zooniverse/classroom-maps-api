version: '3'
services:
  # sqlite-builder:
  #   build:
  #     context: .
  #     dockerfile: Dockerfile
  #   command: ["/bin/bash"]
  #   volumes:
  #     - ./data:/mnt
  #     - ./labs-import-csv-files-to-sqlite.sh:/usr/local/bin/labs-import-csv-files-to-sqlite.sh
  datasette:
    build:
      context: .
      dockerfile: Dockerfile
    command: ["datasette", "-h", "0.0.0.0", "--cors", "/mnt/datasette/databases"]
    ports:
      - "8001:8001"
    volumes:
      - ./plugins:/mnt/datasette/databases/plugins